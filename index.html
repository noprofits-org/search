<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nonprofit Search - NoProfits.org</title>
    
    <!-- Design System Styles -->
    <link rel="stylesheet" href="../noprofits-org.github.io/design-system/dist/themes/components.css">
    <link rel="stylesheet" href="../noprofits-org.github.io/design-system/dist/themes/core.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="../noprofits-org.github.io/design-system/dist/assets/logos/search-favicon.svg">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <header>
        <h1><a href="https://noprofits.org">Noprofits.org</a></h1>
    </header>

    <main>
        <nav class="nav-list">
            <button class="nav-button active" data-tab="search">Search</button>
            <button class="nav-button" data-tab="propublica-tags">ProPublica Tags</button>
        </nav>

        <section class="tab-content active" data-tab="search">
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="Enter organization name">
                <button id="searchButton" class="search-button">Search</button>
            </div>
            <div id="filters" class="filters-container"></div>
            <div id="resultsContainer" class="results-container"></div>
        </section>
        <section class="tab-content" data-tab="propublica-tags">
            <h2>Key Nonprofit Financial Data from ProPublica</h2>
            <p>This table provides a breakdown of key financial data points extracted from ProPublica's Nonprofit
                Explorer. Use this information as a starting point for your own research and analysis.</p>
            <div class="propublica-tags">
                <div class="tag-item">
                    <span class="tag-name">api_version</span>
                    <span class="tag-description">The version of the ProPublica API used to retrieve this data.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">compnsatncurrofcr</span>
                    <span class="tag-description">Compensation of current officers, directors, trustees, and key
                        employees.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">cstbasisecur</span>
                    <span class="tag-description">Cost basis of securities.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">cstbasisothr</span>
                    <span class="tag-description">Cost basis of other assets.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">ein</span>
                    <span class="tag-description">Employer Identification Number. The unique tax ID assigned to the
                        organization by the IRS.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">formtype</span>
                    <span class="tag-description">Indicates the type of 990 form filed.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">gftgrntsrcvd170</span>
                    <span class="tag-description">Gifts, grants, contributions, and membership fees received from
                        section 170 organizations.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">gnlsecur</span>
                    <span class="tag-description">Net gain/loss from sales of securities.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">gnlsothr</span>
                    <span class="tag-description">Net gain/loss from other sales.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">grsalesecur</span>
                    <span class="tag-description">Gross sales of securities.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">grsalesinvent</span>
                    <span class="tag-description">Gross sales of inventory.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">grsalesothr</span>
                    <span class="tag-description">Gross sales of other assets.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">grsinc170</span>
                    <span class="tag-description">Gross income from section 170 related activities.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">grsincfndrsng</span>
                    <span class="tag-description">Gross income from fundraising events.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">grsincgaming</span>
                    <span class="tag-description">Gross income from gaming activities.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">grsincmembers</span>
                    <span class="tag-description">Gross income from membership dues.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">grsincother</span>
                    <span class="tag-description">Gross income from other sources.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">grsrcptsadmissn509</span>
                    <span class="tag-description">Gross receipts from admissions reported on Schedule O.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">grsrcptspublicuse</span>
                    <span class="tag-description">Gross receipts from public use of facilities.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">grsrcptsrelated170</span>
                    <span class="tag-description">Gross receipts from related activities.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">grsrntsprsnl</span>
                    <span class="tag-description">Gross rents from personal property.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">grsrntsreal</span>
                    <span class="tag-description">Gross rents from real property.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">initiationfees</span>
                    <span class="tag-description">Initiation fees received.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">invstmntinc</span>
                    <span class="tag-description">Investment income.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">lesscstofgoods</span>
                    <span class="tag-description">Cost of goods sold.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">lessdirfndrsng</span>
                    <span class="tag-description">Direct fundraising expenses.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">lessdirgaming</span>
                    <span class="tag-description">Direct gaming expenses.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">miscrevtot11e</span>
                    <span class="tag-description">Miscellaneous revenue reported on Schedule O.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">netgnls</span>
                    <span class="tag-description">Net gain/loss from sales of assets.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">netincfndrsng</span>
                    <span class="tag-description">Net income from fundraising events.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">netincgaming</span>
                    <span class="tag-description">Net income from gaming activities.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">netincsales</span>
                    <span class="tag-description">Net income from sales of inventory.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">netrntlinc</span>
                    <span class="tag-description">Net rental income.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">nonpfrea</span>
                    <span class="tag-description">Indicates if the organization is a private foundation (PF) or
                        not.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">othrsalwages</span>
                    <span class="tag-description">Other salaries and wages (excluding officer compensation).</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">payrolltx</span>
                    <span class="tag-description">Payroll taxes.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">pct_compnsatncurrofcr</span>
                    <span class="tag-description">Percentage of total expenses represented by officer
                        compensation.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">pdf_url</span>
                    <span class="tag-description">Direct link to the original PDF of the 990 filing.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">profndraising</span>
                    <span class="tag-description">Professional fundraising fees.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">retainedearnend</span>
                    <span class="tag-description">Retained earnings at the end of the year.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">rntlexpnsprsnl</span>
                    <span class="tag-description">Rental expenses for personal property.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">rntlexpnsreal</span>
                    <span class="tag-description">Rental expenses for real property.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">rntlincprsnl</span>
                    <span class="tag-description">Rental income from personal property.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">rntlincreal</span>
                    <span class="tag-description">Rental income from real property.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">royaltsinc</span>
                    <span class="tag-description">Royalty income.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">secrdmrtgsend</span>
                    <span class="tag-description">Secured mortgages at the end of the year.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">srvcsval170</span>
                    <span class="tag-description">Value of services provided to section 170 organizations.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">srvcsval509</span>
                    <span class="tag-description">Value of services provided to section 509 organizations.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">subseccd</span>
                    <span class="tag-description">Subsection code describing the type of exempt organization.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">subtotsuppinc509</span>
                    <span class="tag-description">Subtotal of support and revenue reported on Schedule O.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">tax_pd</span>
                    <span class="tag-description">The tax period end date.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">tax_prd_yr</span>
                    <span class="tag-description">The tax year.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">totassetsend</span>
                    <span class="tag-description">Total assets at the end of the year.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">totcntrbgfts</span>
                    <span class="tag-description">Total contributions, gifts, and grants received.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">totfuncexpns</span>
                    <span class="tag-description">Total functional expenses.</span>
                </div>
                <div class="tag-item">
                    <span class="tag-name">totgftgrntrcvd509</span>
                    <span class="tag-description">Total gifts, grants, and contributions received by 509
                        organizations.</span>
                </div>
            </div>
        </section>

        <div id="analysisModal" class="modal">
            <div class="modal-content">
                <span class="close-button" onclick="closeModal()">&times;</span>
                <h2 id="modalOrgName"></h2>
                <div id="modalContent"></div>
            </div>
        </div>
    </main>

    <footer>
        <div class="citation">Data sourced from <a href="https://projects.propublica.org/nonprofits/"
                target="_blank">ProPublica Nonprofit Explorer</a></div>
    </footer>

    <script type="module" src="js/search.js"></script>
    <script>
        const navList = document.querySelector('.nav-list');
        const tabs = navList.querySelectorAll('.nav-button');
        const tabContents = document.querySelectorAll('.tab-content[data-tab]'); // Correct selector

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(t => t.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));

                tab.classList.add('active');
                const targetTab = tab.dataset.tab;
                const targetContent = document.querySelector(`.tab-content[data-tab="${targetTab}"]`); // Correct selector
                if (targetContent) {
                    targetContent.classList.add('active');
                }
            });
        });

        // Set initial active tab (important for the first load)
        const initialTab = navList.querySelector('.nav-button.active');
        if (initialTab) {
            const initialTabName = initialTab.dataset.tab;
            const initialContent = document.querySelector(`.tab-content[data-tab="${initialTabName}"]`); // Correct selector

            if (initialContent) {
                initialContent.classList.add('active');
            }
        }
    </script>
</body>

</html>